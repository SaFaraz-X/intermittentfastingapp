{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Developer/react/intermittentfastingapp/src/Timer.js\";\nimport React, { Component } from 'react';\nimport Settings from './Settings';\nimport Times from './Times';\nimport Controller from './Controller';\nimport './Timer.css';\nexport default class Timer extends Component {\n  constructor(props) {\n    super(props);\n    this.audioBeep = React.createRef();\n    this.state = {\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 * 60,\n      isStart: false,\n      timerInterval: null,\n      canEdit: false,\n      myFastingSchedule: '16:8'\n    };\n    this.onIncreaseBreak = this.onIncreaseBreak.bind(this);\n    this.onDecreaseBreak = this.onDecreaseBreak.bind(this);\n    this.onIncreaseSession = this.onIncreaseSession.bind(this);\n    this.onDecreaseSession = this.onDecreaseSession.bind(this);\n    this.onReset = this.onReset.bind(this);\n    this.onStartStop = this.onStartStop.bind(this);\n    this.decreaseTimer = this.decreaseTimer.bind(this);\n    this.phaseControl = this.phaseControl.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  onIncreaseBreak() {\n    if (this.state.breakLength < 24 && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 * 60\n      });\n    }\n  }\n\n  onDecreaseBreak() {\n    if (this.state.breakLength > 0 && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 * 60\n      });\n    }\n  }\n\n  onIncreaseSession() {\n    if (this.state.sessionLength < 24 && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 * 60\n      });\n    }\n  }\n\n  onDecreaseSession() {\n    if (this.state.sessionLength > 0 && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 * 60\n      });\n    }\n  }\n\n  onReset() {\n    this.setState({\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 * 60,\n      isStart: false,\n      timerInterval: null\n    });\n    this.audioBeep.current.pause();\n    this.audioBeep.current.currentTime = 0;\n    this.state.timerInterval && clearInterval(this.state.timerInterval);\n  }\n\n  onStartStop() {\n    if (!this.state.isStart) {\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: setInterval(() => {\n          this.decreaseTimer();\n          this.phaseControl();\n        }, 1000)\n      });\n    } else {\n      this.audioBeep.current.pause();\n      this.audioBeep.current.currentTime = 0;\n      this.state.timerInterval && clearInterval(this.state.timerInterval);\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: null\n      });\n    }\n  }\n\n  decreaseTimer() {\n    this.setState({\n      timeLeftInSecond: this.state.timeLeftInSecond - 1\n    });\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let ifAllowed;\n\n    if (value === 'Custom') {\n      ifAllowed = true;\n    } else {\n      ifAllowed = false;\n    }\n\n    alert(name);\n    this.setState({\n      [name]: value,\n      ['canEdit']: ifAllowed\n    });\n  }\n\n  phaseControl() {\n    if (this.state.timeLeftInSecond === 0) {\n      this.audioBeep.current.play();\n    } else if (this.state.timeLeftInSecond === -1) {\n      if (this.state.timeLabel === 'Intermittent Fast') {\n        this.setState({\n          timeLabel: 'Eating Period',\n          timeLeftInSecond: this.state.breakLength * 60\n        });\n      } else {\n        this.setState({\n          timeLabel: 'Intermittent Fast',\n          timeLeftInSecond: this.state.sessionLength * 60\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clock2\",\n      id: \"clock2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clock-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"clock-header-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, \"Timer\")), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"choose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, \"Choose Your Fasting Schedule:\", /*#__PURE__*/React.createElement(\"select\", {\n      name: \"myFastingSchedule\",\n      value: this.state.value,\n      onChange: this.handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"16:8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, \"16:8\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"18:6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, \"18:6\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Custom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \"Custom\")))), /*#__PURE__*/React.createElement(Settings, {\n      breakLength: this.state.breakLength,\n      sessionLength: this.state.sessionLength,\n      isStart: this.state.isStart,\n      onDecreaseBreak: this.onDecreaseBreak,\n      onDecreaseSession: this.onDecreaseSession,\n      onIncreaseBreak: this.onIncreaseBreak,\n      onIncreaseSession: this.onIncreaseSession,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Times, {\n      timeLabel: this.state.timeLabel,\n      timeLeftInSecond: this.state.timeLeftInSecond,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Controller, {\n      onReset: this.onReset,\n      onStartStop: this.onStartStop,\n      isStart: this.state.isStart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"audio\", {\n      id: \"beep\",\n      preload: \"auto\",\n      src: \"https://goo.gl/65cBl1\",\n      ref: this.audioBeep,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/matt/Developer/react/intermittentfastingapp/src/Timer.js"],"names":["React","Component","Settings","Times","Controller","Timer","constructor","props","audioBeep","createRef","state","breakLength","Number","parseInt","defaultBreakLength","sessionLength","defaultSessionLength","timeLabel","timeLeftInSecond","isStart","timerInterval","canEdit","myFastingSchedule","onIncreaseBreak","bind","onDecreaseBreak","onIncreaseSession","onDecreaseSession","onReset","onStartStop","decreaseTimer","phaseControl","handleInputChange","setState","current","pause","currentTime","clearInterval","setInterval","event","target","value","name","ifAllowed","alert","play","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Settings from './Settings';\nimport Times from './Times';\nimport Controller from './Controller';\nimport './Timer.css';\n\n\n\n\nexport default class Timer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.audioBeep = React.createRef();\n\n    this.state = {\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 *60,\n      isStart: false,\n      timerInterval: null,\n      canEdit: false,\n      myFastingSchedule: '16:8'\n    }\n\n    this.onIncreaseBreak = this.onIncreaseBreak.bind(this);\n    this.onDecreaseBreak = this.onDecreaseBreak.bind(this);\n    this.onIncreaseSession = this.onIncreaseSession.bind(this);\n    this.onDecreaseSession = this.onDecreaseSession.bind(this);\n    this.onReset = this.onReset.bind(this);\n    this.onStartStop = this.onStartStop.bind(this);\n    this.decreaseTimer = this.decreaseTimer.bind(this);\n    this.phaseControl = this.phaseControl.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  onIncreaseBreak() {\n    if (this.state.breakLength < 24 && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 *60\n      });\n    }\n  }\n\n  onDecreaseBreak() {\n    if (this.state.breakLength > 0  && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 *60\n      });\n    }\n  }\n\n  onIncreaseSession() {\n    if (this.state.sessionLength < 24 && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 *60\n      });\n    }\n  }\n\n  onDecreaseSession() {\n    if (this.state.sessionLength > 0  && !this.state.isStart && this.canEdit) {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 *60\n      });\n    }\n  }\n\n  onReset() {\n    this.setState({\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 *60,\n      isStart: false,\n      timerInterval: null\n    });\n\n    this.audioBeep.current.pause();\n    this.audioBeep.current.currentTime = 0;\n    this.state.timerInterval && clearInterval(this.state.timerInterval);\n  }\n\n  onStartStop() {\n    if (!this.state.isStart) {\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: setInterval(() => {\n          this.decreaseTimer();\n          this.phaseControl();\n        }, 1000)\n      })\n    } else {\n      this.audioBeep.current.pause();\n      this.audioBeep.current.currentTime = 0;\n      this.state.timerInterval && clearInterval(this.state.timerInterval);\n\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: null\n      });\n    }\n  }\n\n  decreaseTimer() {\n    this.setState({\n      timeLeftInSecond: this.state.timeLeftInSecond - 1\n    });\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let ifAllowed;\n    \n    if(value === 'Custom'){\n      ifAllowed = true;\n    } else {\n      ifAllowed = false;\n    }\n    alert(name)\n\n    this.setState({\n      [name]: value,\n      ['canEdit']: ifAllowed\n    });\n}\n\n  phaseControl() {\n    if (this.state.timeLeftInSecond === 0) {\n      this.audioBeep.current.play();\n    } else if (this.state.timeLeftInSecond === -1) {\n      if (this.state.timeLabel === 'Intermittent Fast') {\n        this.setState({\n          timeLabel: 'Eating Period',\n          timeLeftInSecond: this.state.breakLength * 60\n        });\n      } else {\n        this.setState({\n          timeLabel: 'Intermittent Fast',\n          timeLeftInSecond: this.state.sessionLength * 60\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className=\"clock2\" id='clock2'>\n        <div className=\"clock-header\">\n          <h1 className=\"clock-header-name\">Timer</h1>\n        </div>\n        <form>\n          <label className='choose'>\n            Choose Your Fasting Schedule: \n            <select name = \"myFastingSchedule\" value = {this.state.value} onChange = {this.handleInputChange} required>\n              <option value = \"16:8\">16:8</option>\n              <option value = \"18:6\">18:6</option>\n              <option value = \"Custom\">Custom</option>\n            </select>\n          </label>\n        </form>\n        <Settings\n          breakLength={this.state.breakLength}\n          sessionLength={this.state.sessionLength}\n          isStart={this.state.isStart}\n          onDecreaseBreak={this.onDecreaseBreak}\n          onDecreaseSession={this.onDecreaseSession}\n          onIncreaseBreak={this.onIncreaseBreak}\n          onIncreaseSession={this.onIncreaseSession}\n        />\n\n        <Times\n          timeLabel={this.state.timeLabel}\n          timeLeftInSecond={this.state.timeLeftInSecond}\n        />\n\n        <Controller\n          onReset={this.onReset}\n          onStartStop={this.onStartStop}\n          isStart={this.state.isStart}\n        />\n\n        <audio id=\"beep\" preload=\"auto\" src=\"https://goo.gl/65cBl1\" ref={this.audioBeep}></audio>\n        {/* <footer>Designed based on a pen by <a href=\"https://codepen.io/eddyerburgh/full/yOjdqo/\">Edd Yerburgh</a> and coded by <a href=\"http://about.phamvanlam.com\">Lam Pham</a>.</footer> */}\n\n        \n      </div>\n    );\n  }\n\n  \n\n}\n\n"]},"metadata":{},"sourceType":"module"}