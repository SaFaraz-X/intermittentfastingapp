{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Developer/react/intermittentfastingapp/src/Timer.js\";\nimport React, { Component } from 'react';\nimport Settings from './Settings';\nimport Times from './Times';\nimport Controller from './Controller';\nimport './Timer.css';\nimport History from './history';\nexport default class Timer extends Component {\n  constructor(props) {\n    super(props);\n    this.audioBeep = React.createRef();\n    this.state = {\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 * 60,\n      isStart: false,\n      myFastingSchedule: '16:8',\n      timerInterval: null,\n      startTime: 57600,\n      endTime: 57600,\n      timeFasted: 0\n    };\n    this.onIncreaseBreak = this.onIncreaseBreak.bind(this);\n    this.onDecreaseBreak = this.onDecreaseBreak.bind(this);\n    this.onIncreaseSession = this.onIncreaseSession.bind(this);\n    this.onDecreaseSession = this.onDecreaseSession.bind(this);\n    this.onReset = this.onReset.bind(this);\n    this.onStartStop = this.onStartStop.bind(this);\n    this.decreaseTimer = this.decreaseTimer.bind(this);\n    this.phaseControl = this.phaseControl.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onIncreaseBreak() {\n    if (this.state.breakLength < 24 && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 * 60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onDecreaseBreak() {\n    if (this.state.breakLength > 0 && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 * 60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onIncreaseSession() {\n    if (this.state.sessionLength < 24 && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 * 60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onDecreaseSession() {\n    if (this.state.sessionLength > 0 && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 * 60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onReset() {\n    this.setState({\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 * 60,\n      isStart: false,\n      timerInterval: null,\n      startTime: this.state.timeLeftInSecond,\n      endTime: this.state.timeLeftInSecond\n    });\n    this.audioBeep.current.pause();\n    this.audioBeep.current.currentTime = 0;\n    this.state.timerInterval && clearInterval(this.state.timerInterval);\n  }\n\n  onStartStop() {\n    if (!this.state.isStart) {\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: setInterval(() => {\n          this.decreaseTimer();\n          this.phaseControl();\n        }, 1000)\n      });\n    } else {\n      this.audioBeep.current.pause();\n      this.audioBeep.current.currentTime = 0;\n      this.state.timerInterval && clearInterval(this.state.timerInterval);\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: null,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  decreaseTimer() {\n    this.setState({\n      timeLeftInSecond: this.state.timeLeftInSecond - 1\n    });\n  }\n\n  handleChange(event) {\n    let fastLength;\n    let eatLength;\n\n    if (event.target.value === '16:8') {\n      fastLength = 16;\n      eatLength = 8;\n    } else if (event.target.value === '18:6') {\n      fastLength = 18;\n      eatLength = 6;\n    } else {\n      fastLength = this.state.sessionLength;\n      eatLength = this.state.breakLength;\n    }\n\n    this.setState({\n      myFastingSchedule: event.target.value,\n      breakLength: eatLength,\n      sessionLength: fastLength,\n      timeLeftInSecond: fastLength * 3600,\n      startTime: fastLength * 3600\n    });\n  }\n\n  phaseControl() {\n    if (this.state.timeLeftInSecond === 0) {\n      this.audioBeep.current.play();\n    } else if (this.state.timeLeftInSecond === -1) {\n      if (this.state.timeLabel === 'Intermittent Fast') {\n        this.setState({\n          timeLabel: 'Eating Period',\n          timeLeftInSecond: this.state.breakLength * 60\n        });\n      } else {\n        this.setState({\n          timeLabel: 'Intermittent Fast',\n          timeLeftInSecond: this.state.sessionLength * 60\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clock2\",\n      id: \"clock2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clock-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"clock-header-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, \"Timer\")), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"choose\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, \"Choose Your Fasting Schedule:\", /*#__PURE__*/React.createElement(\"select\", {\n      name: \"myFastingSchedule\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"16:8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, \"16:8\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"18:6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, \"18:6\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Custom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, \"Custom\")))), /*#__PURE__*/React.createElement(Settings, {\n      breakLength: this.state.breakLength,\n      sessionLength: this.state.sessionLength,\n      isStart: this.state.isStart,\n      onDecreaseBreak: this.onDecreaseBreak,\n      onDecreaseSession: this.onDecreaseSession,\n      onIncreaseBreak: this.onIncreaseBreak,\n      onIncreaseSession: this.onIncreaseSession,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Times, {\n      timeLabel: this.state.timeLabel,\n      timeLeftInSecond: this.state.timeLeftInSecond,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Controller, {\n      onReset: this.onReset,\n      onStartStop: this.onStartStop,\n      isStart: this.state.isStart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"audio\", {\n      id: \"beep\",\n      preload: \"auto\",\n      src: \"https://goo.gl/65cBl1\",\n      ref: this.audioBeep,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(History, {\n      fastTime: (this.state.startTime - this.state.endTime) / 3600,\n      eatTime: 24 - (this.state.startTime - this.state.endTime) / 3600,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/matt/Developer/react/intermittentfastingapp/src/Timer.js"],"names":["React","Component","Settings","Times","Controller","History","Timer","constructor","props","audioBeep","createRef","state","breakLength","Number","parseInt","defaultBreakLength","sessionLength","defaultSessionLength","timeLabel","timeLeftInSecond","isStart","myFastingSchedule","timerInterval","startTime","endTime","timeFasted","onIncreaseBreak","bind","onDecreaseBreak","onIncreaseSession","onDecreaseSession","onReset","onStartStop","decreaseTimer","phaseControl","handleChange","setState","current","pause","currentTime","clearInterval","setInterval","event","fastLength","eatLength","target","value","play","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Settings from './Settings';\nimport Times from './Times';\nimport Controller from './Controller';\nimport './Timer.css';\nimport History from './history'\n\n\n\n\nexport default class Timer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.audioBeep = React.createRef();\n\n    this.state = {\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 *60,\n      isStart: false,\n      myFastingSchedule: '16:8',\n      timerInterval: null,\n      startTime: 57600,\n      endTime: 57600,\n      timeFasted: 0\n    }\n\n    this.onIncreaseBreak = this.onIncreaseBreak.bind(this);\n    this.onDecreaseBreak = this.onDecreaseBreak.bind(this);\n    this.onIncreaseSession = this.onIncreaseSession.bind(this);\n    this.onDecreaseSession = this.onDecreaseSession.bind(this);\n    this.onReset = this.onReset.bind(this);\n    this.onStartStop = this.onStartStop.bind(this);\n    this.decreaseTimer = this.decreaseTimer.bind(this);\n    this.phaseControl = this.phaseControl.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  onIncreaseBreak() {\n    if (this.state.breakLength < 24 && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 *60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onDecreaseBreak() {\n    if (this.state.breakLength > 0  && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 *60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onIncreaseSession() {\n    if (this.state.sessionLength < 24 && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength - 1,\n        sessionLength: this.state.sessionLength + 1,\n        timeLeftInSecond: (this.state.sessionLength + 1) * 60 *60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onDecreaseSession() {\n    if (this.state.sessionLength > 0  && !this.state.isStart && this.state.myFastingSchedule === 'Custom') {\n      this.setState({\n        breakLength: this.state.breakLength + 1,\n        sessionLength: this.state.sessionLength - 1,\n        timeLeftInSecond: (this.state.sessionLength - 1) * 60 *60,\n        startTime: this.state.timeLeftInSecond,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  onReset() {\n    this.setState({\n      breakLength: Number.parseInt(this.props.defaultBreakLength, 10),\n      sessionLength: Number.parseInt(this.props.defaultSessionLength, 10),\n      timeLabel: 'Intermittent Fast',\n      timeLeftInSecond: Number.parseInt(this.props.defaultSessionLength, 10) * 60 *60,\n      isStart: false,\n      timerInterval: null,\n      startTime: this.state.timeLeftInSecond,\n      endTime: this.state.timeLeftInSecond\n    });\n\n    this.audioBeep.current.pause();\n    this.audioBeep.current.currentTime = 0;\n    this.state.timerInterval && clearInterval(this.state.timerInterval);\n  }\n\n  onStartStop() {\n    if (!this.state.isStart) {\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: setInterval(() => {\n          this.decreaseTimer();\n          this.phaseControl();\n        }, 1000),\n      })\n    } else {\n      this.audioBeep.current.pause();\n      this.audioBeep.current.currentTime = 0;\n      this.state.timerInterval && clearInterval(this.state.timerInterval);\n\n      this.setState({\n        isStart: !this.state.isStart,\n        timerInterval: null,\n        endTime: this.state.timeLeftInSecond\n      });\n    }\n  }\n\n  decreaseTimer() {\n    this.setState({\n      timeLeftInSecond: this.state.timeLeftInSecond - 1\n    });\n  }\n\n  handleChange(event) {\n    let fastLength;\n    let eatLength;\n    \n    if(event.target.value === '16:8'){\n      fastLength = 16;\n      eatLength = 8;\n    } else if(event.target.value === '18:6') {\n      fastLength = 18;\n      eatLength = 6;\n    } else {\n      fastLength = this.state.sessionLength;\n      eatLength = this.state.breakLength;\n    }\n  \n    this.setState({\n      myFastingSchedule: event.target.value,\n      breakLength: eatLength,\n      sessionLength: fastLength,\n      timeLeftInSecond: fastLength*3600,\n      startTime: fastLength*3600\n    });\n\n\n  } \n\n\n  phaseControl() {\n    if (this.state.timeLeftInSecond === 0) {\n      this.audioBeep.current.play();\n    } else if (this.state.timeLeftInSecond === -1) {\n      if (this.state.timeLabel === 'Intermittent Fast') {\n        this.setState({\n          timeLabel: 'Eating Period',\n          timeLeftInSecond: this.state.breakLength * 60\n        });\n      } else {\n        this.setState({\n          timeLabel: 'Intermittent Fast',\n          timeLeftInSecond: this.state.sessionLength * 60\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className=\"clock2\" id='clock2'>\n        <div className=\"clock-header\">\n          <h1 className=\"clock-header-name\">Timer</h1>\n        </div>\n        <form>\n          <label className='choose'>\n            Choose Your Fasting Schedule: \n            <select name = \"myFastingSchedule\" value = {this.state.value} onChange = {this.handleChange}>\n              <option value = \"16:8\">16:8</option>\n              <option value = \"18:6\">18:6</option>\n              <option value = \"Custom\">Custom</option>\n            </select>\n          </label>\n        </form>\n        <Settings\n          breakLength={this.state.breakLength}\n          sessionLength={this.state.sessionLength}\n          isStart={this.state.isStart}\n          onDecreaseBreak={this.onDecreaseBreak}\n          onDecreaseSession={this.onDecreaseSession}\n          onIncreaseBreak={this.onIncreaseBreak}\n          onIncreaseSession={this.onIncreaseSession}\n        />\n\n        <Times\n          timeLabel={this.state.timeLabel}\n          timeLeftInSecond={this.state.timeLeftInSecond}\n        />\n\n        <Controller\n          onReset={this.onReset}\n          onStartStop={this.onStartStop}\n          isStart={this.state.isStart}\n        />\n\n        <audio id=\"beep\" preload=\"auto\" src=\"https://goo.gl/65cBl1\" ref={this.audioBeep}></audio>\n        {/* <footer>Designed based on a pen by <a href=\"https://codepen.io/eddyerburgh/full/yOjdqo/\">Edd Yerburgh</a> and coded by <a href=\"http://about.phamvanlam.com\">Lam Pham</a>.</footer> */}\n        <div className = \"Chart\">\n          <History fastTime ={(this.state.startTime - this.state.endTime)/3600} eatTime ={24-(this.state.startTime - this.state.endTime)/3600} />\n        </div>\n        \n      </div>\n    );\n  }\n\n  \n\n}\n\n"]},"metadata":{},"sourceType":"module"}